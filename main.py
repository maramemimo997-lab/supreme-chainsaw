from flask import Flask
from threading import Thread
import telebot
from telebot import types
import random
import g4f
import os
import json

app = Flask('')
@app.route('/')
def home(): return "I am alive"
def run(): app.run(host='0.0.0.0', port=8080)
def keep_alive():
    t = Thread(target=run)
    t.start()
keep_alive()

# --- โ๏ธ ุงูุฅุนุฏุงุฏุงุช ---
TOKEN = '8280371843:AAGSN3yBIkKWT8uXpC0JxsAPCGZHpx6wFPU'
bot = telebot.TeleBot(TOKEN)
DEV_ID = 6363242091 

# --- ๐ ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช ---
def load_data(file, default):
    if os.path.exists(file):
        with open(file, "r", encoding="utf-8") as f: return json.load(f)
    return default

def save_data(file, data):
    with open(file, "w", encoding="utf-8") as f: json.dump(data, f, ensure_ascii=False, indent=4)

ranks = load_data("ranks.json", {"main_owners": {}, "owners": {}, "admins": {}, "managers": {}, "creators": {}, "distinguished": {}})
settings = load_data("settings.json", {})
custom_replies = load_data("replies.json", {})
user_gender = load_data("gender.json", {})
whispers = {}

# --- ๐ ุจูู ุงูุฃุณุฆูุฉ (ูุงูู) ---
games_questions = {
    " "ุตุฑุงุญุฉ": [
        "ูู ุณุจู ูุฃู ุณุฑูุช ุดูุฆุงู ุจุณูุทุงูุ", "ูู ูู ุงูุดุฎุต ุงูุฐู ุชุนุชุจุฑู ูุฏูุชูุ", "ูุง ูู ุฃูุจุฑ ูุฏู ูู ุญูุงุชูุ",
        "ูู ูุฐุจุช ูุฐุจุฉ ูุจูุฑุฉ ููุฌูุช ุจูุงุ", "ูุง ูู ุงูุดูุก ุงูุฐู ุชุฎุงู ููู ุจุดุฏุฉุ", "ูู ูู ุงูุดุฎุต ุงูุฐู ุชููุฑ ููู ุงูุขูุ",
        "ูู ุชุนุฑุถุช ููุบุฏุฑ ูู ุตุฏูู ููุฑุจุ", "ูุง ูู ุฃูุซุฑ ุตูุฉ ุชุญุจูุง ูู ููุณูุ", "ูุง ูู ุญููู ุงูุฐู ูู ูุชุญูู ุจุนุฏุ",
        "ูู ุฃูุช ุดุฎุต ูุชุณุงูุญ ุฃู ุญููุฏุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูุฌุนูู ุชุจูู ุจุณุฑุนุฉุ", "ูู ุนุงุฏ ุจู ุงูุฒููุ ูุงุฐุง ุณุชุบูุฑุ",
        "ูู ุฃูุช ุฑุงุถู ุนู ุญูุงุชู ุงูุญุงููุฉุ", "ูุง ูู ุงููููุฉ ุงูุชู ูุง ุชุณุชุทูุน ููููุง ูุฃุญุฏุ", "ูู ูู ุงูุดุฎุต ุงูุฐู ุบูุฑ ุญูุงุชูุ",
        "ูู ุชูุถู ุงูุญุจ ุฃู ุงููุงูุ", "ูุง ูู ุงููููู ุงูุฐู ุฃุญุฑุฌู ุฌุฏุงูุ", "ูู ุชุคูู ุจุงูุญุจ ูู ุฃูู ูุธุฑุฉุ",
        "ูุง ูู ุฃูุซุฑ ุดูุก ูุณุชูุฒูุ", "ูู ุฃูุช ุดุฎุต ุบููุฑุ", "ูุง ูู ุณุฑู ุงูุฐู ูุง ูุนุฑูู ุฃุญุฏุ",
        "ูู ุณุจู ููุดูุช ูู ุชุญููู ูุฏูุ", "ูุง ูู ุงููุฏูุฉ ุงูุชู ูู ุชูุณุงูุงุ", "ูู ุชูุถู ุงูุนุฒูุฉ ุฃู ุงูุงุฌุชูุงุนุงุชุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ูุฌุนูู ุชุจุชุณูุ", "ูู ุชุดุนุฑ ุจุงููุญุฏุฉ ุบุงูุจุงูุ", "ูุง ูู ุฃูุจุฑ ูุฎุงูููุ",
        "ูู ุฃูุช ุดุฎุต ูุบุงูุฑุ", "ูุง ูู ุฃุบูู ุดูุก ุชููููุ", "ูู ุณุจู ููุฏูุช ุนูู ูุฑุงุฑ ุงุชุฎุฐุชูุ"
    ],
    "ุงููู": [
        "ูู ูู ุจุทู ุฃููู ูู ุจูุณุ", "ูุง ุงุณู ุนูู ุณุงุณูู ูู ูุงุฑูุชูุ", "ูู ูู ูุคูู ุฏุฑุงุบูู ุจููุ",
        "ูุง ุงุณู ุงูุฃููู ุงูุฐู ููู 'ุงูููุช ููููุด'ุ", "ูุง ูู ุงุณู ุณูู ุฒูุฑู ุงูุซุงูุซุ", "ูู ูู ูุฏุฑุจ ูุงุฑูุชู ุงูุฃููุ",
        "ูุง ูู ุงุณู ุงููุญุด ุฏุงุฎู ูุงุฑูุชูุ", "ูู ูู ุงูุดุฎุตูุฉ ุงูุชู ุชููุจ ุจู 'L'ุ", "ูุง ุงุณู ุงูุฃููู ุงูุฐู ููู ุงูุนูุงููุฉุ",
        "ูู ูู ููู ุงููุฑุงุตูุฉ ุงูุณุงุจูุ", "ูุง ูู ุงุณู ุนุงุฆูุฉ ุบูููุ", "ูู ูู ุฃููู ุดุฎุตูุฉ ูู ููุชุฑุ",
        "ูุง ูู ุญูู ููููุ", "ูู ูู ูุงุชู ุนุงุฆูุฉ ุณุงุณููุ", "ูุง ุงุณู ุงููููุฑุฉ ูู ุฏูุซ ููุชุ",
        "ูู ูู ุจุทู ุฃููู ุจููุชุดุ", "ูุง ูู ุงุณู ุงูุฃููู ุงูุฐู ููู 'ุณุงูุชุงูุง'ุ", "ูู ูู ูุงุฆุฏ ุงููููู ูู ุงูุนูุงููุฉุ",
        "ูุง ูู ุงุณู ุชูููุฉ ุบููู ุงูุดููุฑุฉุ", "ูู ูู ุงูุฃุฎ ุงูุฃูุจุฑ ูู ููููุ", "ูุง ูู ุงุณู ุงูุณูู ูู ุฃููู ุจููุชุดุ",
        "ูู ูู ุจุทู ุฃููู ุทูููู ุบููุ", "ูุง ูู ููุจ ูููุงุณุงุ", "ูู ูู ุฎุตู ุบููู ุงูุฃุฒููุ",
        "ูุง ุงุณู ุงูุฃููู ุงูุฐู ููู 'ุชุงูุฌูุฑู'ุ", "ูู ูู ุฃููู ุดูุทุงู ูู ููููุชุณูุ", "ูุง ูู ุญูู ูุงุฑูุชูุ",
        "ูู ูู ูุงูุฏ ููููุ", "ูุง ูู ุงุณู ุงูููุงุต ูู ุทุงูู ููููุ", "ูุง ูู ุงุณู ุงูุฃููู ุงูุฐู ููู 'ุฅุฏูุงุฑุฏ ุฅูุฑูู'ุ"
    ],
    "ุฏูู": [
        "ูู ูู ุฎุงุชู ุงูุฃูุจูุงุกุ", "ูุง ูู ุฃุทูู ุณูุฑุฉ ูู ุงููุฑุขูุ", "ูุง ูู ุฃูุตุฑ ุณูุฑุฉ ูู ุงููุฑุขูุ",
        "ูู ูู ุงููุจู ุงูุฐู ุตุงู ุนู ุงูููุงูุ", "ูู ูู ูููู ุงูููุ", "ูู ุนุฏุฏ ุณูุฑ ุงููุฑุขู ุงููุฑููุ",
        "ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุชุณูู ุนุฑูุณ ุงููุฑุขูุ", "ูู ูู ุงููุจู ุงูุฐู ุงุจุชูุนู ุงูุญูุชุ", "ูู ุนุฏุฏ ุฃุฌุฒุงุก ุงููุฑุขูุ",
        "ูู ูู ุฃูู ูู ุฃุณูู ูู ุงูุฑุฌุงูุ", "ูุง ูู ุนุงุตูุฉ ุงูุฏููุฉ ุงูุฃูููุฉุ", "ูู ุฃู ุดูุฑ ูุฒู ุงููุฑุขูุ",
        "ูู ูู ุงููุจู ุงูุฐู ุจูู ุงูุณูููุฉุ", "ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุชุนุฏู ุซูุซ ุงููุฑุขูุ", "ูู ูู ุงููููุจ ุจุงููุงุฑููุ",
        "ูู ูู ุงููููุจ ุจุฐู ุงูููุฑููุ", "ูุง ุงุณู ุงูุบุงุฑ ุงูุฐู ูุงู ูุชุนุจุฏ ููู ุงููุจูุ", "ูู ูู ุงูุตุฏููุ",
        "ูุง ูู ูุจูุฉ ุงููุณูููู ุงูุฃูููุ", "ูู ุนุฏุฏ ุงูุตููุงุช ุงูููุฑูุถุฉุ", "ูู ูู ุงููุจู ุงูุฐู ูุฏู ุงุจูู ุจุฐุจุญุ",
        "ูุง ุงุณู ุฒูุฌุฉ ุงููุจู ุงูุฃูููุ", "ูู ูู ุฃูู ูุคุฐู ูู ุงูุฅุณูุงู? ", "ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุจุฏุฃุช ุจุฏูู ุจุณู ุงูููุ",
        "ูู ูู ุงููุจู ุงูุฐู ุฃูุฑุณู ูููู ุนุงุฏุ", "ูุง ูู ุงุณู ูุงูุฉ ุงููุจูุ", "ูู ูู ุฎุงุฏู ุงููุจูุ",
        "ูุง ูู ุบุฒูุฉ ุงููุฑูุงูุ", "ูู ูู ุงููุจู ุงูุฐู ุฃุญูุง ุงูููุชู ุจุฅุฐู ุงูููุ", "ูู ุนุฏุฏ ุฃุฑูุงู ุงูุฅุณูุงูุ"
    ],
    "ูู ุฎูุฑูู": [
        "ูู ุฎูุฑูู ุจูู ุงููุงู ุฃู ุงูุญุจุ", "ูู ุฎูุฑูู ุจูู ุงูุดูุฑุฉ ุฃู ุฑุงุญุฉ ุงูุจุงูุ", "ูู ุฎูุฑูู ุจูู ุงูุณูุฑ ูููุณุชูุจู ุฃู ุงููุงุถูุ",
        "ูู ุฎูุฑูู ุจูู ุฃูู ุงูููููู ุฃู ุงูุจุตูุ", "ูู ุฎูุฑูู ุจูู ุงูุนูุด ูุญูุฏุงู ุฃู ูุน ุฃุนุฏุงุฆูุ", "ูู ุฎูุฑูู ุจูู ุฐูุงุก ุฃููุดุชุงูู ุฃู ูุณุงูุฉ ููุซูุ",
        "ูู ุฎูุฑูู ุจูู ููุฏุงู ูุงุชูู ุฃู ููุฏุงู ูุญูุธุชูุ", "ูู ุฎูุฑูู ุจูู ุงูุทูุฑุงู ุฃู ุงูุงุฎุชูุงุกุ", "ูู ุฎูุฑูู ุจูู ุงูุนูุด ูู ุงูุซูุฌ ุฃู ุงูุตุญุฑุงุกุ",
        "ูู ุฎูุฑูู ุจูู ุงูููุฉ ุงูุฎุงุฑูุฉ ุฃู ูุฑุงุกุฉ ุงูุฃููุงุฑุ", "ูู ุฎูุฑูู ุจูู ุงูุตุฏุงูุฉ ุฃู ุงููุงูุ", "ูู ุฎูุฑูู ุจูู ุงูููู ููุฃุจุฏ ุฃู ุงูุฃูู ููุฃุจุฏุ",
        "ูู ุฎูุฑูู ุจูู ุฃู ุชููู ูููุงู ูููุฑุงู ุฃู ุบููุงู ูุฌูููุงูุ", "ูู ุฎูุฑูู ุจูู ุงูุชุญุฏุซ ูุน ุงูุญููุงูุงุช ุฃู ูู ูุบุงุช ุงูุนุงููุ", "ูู ุฎูุฑูู ุจูู ุงูุฅูุชุฑูุช ุฃู ุงูููุฑุจุงุกุ",
        "ูู ุฎูุฑูู ุจูู ุงูุตูู ุงูุฏุงุฆู ุฃู ุงูุดุชุงุก ุงูุฏุงุฆูุ", "ูู ุฎูุฑูู ุจูู ุงูุจูุชุฒุง ุฃู ุงูุจุฑุฌุฑุ", "ูู ุฎูุฑูู ุจูู ุงูุดุงู ุฃู ุงููููุฉุ",
        "ูู ุฎูุฑูู ุจูู ุงูููุฒ ุงููุธูู ุฃู ุงูุบูุต ูุน ุงููุฑูุดุ", "ูู ุฎูุฑูู ุจูู ุฃู ุชุตุจุญ ุทููุงู ุฃู ุนุฌูุฒุงู ุญูููุงูุ", "ูู ุฎูุฑูู ุจูู ูุฑุงุกุฉ ุงููุชุจ ุฃู ูุดุงูุฏุฉ ุงูุฃููุงูุ",
        "ูู ุฎูุฑูู ุจูู ุณูุงุฑุฉ ูุงุฎุฑุฉ ุฃู ุทุงุฆุฑุฉ ุฎุงุตุฉุ", "ูู ุฎูุฑูู ุจูู ุงูุตุฏู ุงูุฌุงุฑุญ ุฃู ุงููุฐุจ ุงููุฑูุญุ", "ูู ุฎูุฑูู ุจูู ุฃู ุชุนูุด ูู ุงููุถุงุก ุฃู ุชุญุช ุงููุงุกุ",
        "ูู ุฎูุฑูู ุจูู ุงูููุงูู ุฃู ุงูุฎุถุฑูุงุชุ", "ูู ุฎูุฑูู ุจูู ุงูุญุธ ุงูุนุธูู ุฃู ุงูุนูู ุงูุดุงูุ", "ูู ุฎูุฑูู ุจูู ุงูุนุฏู ุฃู ุงูุณูุงูุ",
        "ูู ุฎูุฑูู ุจูู ุฃู ุชููู ูุดููุฑุงู ูููุฑููุงู ุฃู ูุฌูููุงู ููุญุจูุจุงูุ", "ูู ุฎูุฑูู ุจูู ุงูุนูุด ุจุฏูู ููุณููู ุฃู ุจุฏูู ุฃููุงูุ", "ูู ุฎูุฑูู ุจูู ุงูุดููููุงุชุฉ ุฃู ุงููุงููููุงุ"
    ],
    "ุญุฒูุฑุฉ": [
        "ูุง ูู ุงูุดูุก ุงูุฐู ููุณุฑ ููุง ูููุณุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูู ุฃุณูุงู ููุง ูุนุถุ", "ูุง ูู ุงูุดูุก ุงูุฐู ููุดู ุจูุง ุฃุฑุฌูุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ููุจุถ ุจูุง ููุจุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูููุง ุฃุฎุฐุช ููู ูุจุฑุ", "ูุง ูู ุงูุดูุก ุงูุฐู ููุฌุฏ ูู ูุณุท ุจุงุฑูุณุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ุชุฑุงู ูู ุงูููู 3 ูุฑุงุช ููู ุงูููุงุฑ ูุฑุฉุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูุญูู ุทุนุงูู ููู ุฑุฃุณูุ", "ูุง ูู ุงูุดูุก ุงูุฐู ููุฑุตู ููุง ุชุฑุงูุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ูู ุนูู ูุงุญุฏุฉ ููุง ูุฑูุ", "ูุง ูู ุงูุดูุก ุงูุฐู ููุชุจ ููุง ููุฑุฃุ", "ูุง ูู ุงูุดูุก ุงูุฐู ุชุฑููู ูููุง ุงุญุชุฌุช ุฅูููุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ูุฏูุฑ ุญูู ุงูุจูุช ููุง ูุชุญุฑูุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูู ุฃุฑุฌู ููููู ูุง ููุดูุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูุง ูุจุฑุฏ ูููุง ูุถุนุชู ูู ุงูุซูุงุฌุฉุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ุชุฃูู ููู ููุง ุชุคููุ", "ูุง ูู ุงูุดูุก ุงูุฐู ููุชููู ุงููููุฑ ููุญุชุงุฌู ุงูุบููุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูุฑุชูุน ููุง ููุฎูุถ ุฃุจุฏุงูุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ูุชููู ูู ูุบุงุช ุงูุนุงููุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูุญูุง ูู ุงูุตูู ููููุช ูู ุงูุดุชุงุกุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูุฎุฑุฌ ูู ุงููุงุก ููููุช ูููุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ูู ุฑูุจุฉ ูููุณ ูู ุฑุฃุณุ", "ูุง ูู ุงูุดูุก ุงูุฐู ููุชูู ูุฏูุงู ุจูุง ุจููุชุ", "ูุง ูู ุงูุดูุก ุงูุฐู ุฅุฐุง ุบููุชู ุชุฌูุฏุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ูุฑู ูู ุดูุก ูููุณ ูู ุนูููุ", "ูุง ูู ุงูุดูุก ุงูุฐู ููููู ูู ุจูุชู ุฅูู ุนููู ุฏูู ุฃู ูุชุญุฑูุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูุฎุชุฑู ุงูุฒุฌุงุฌ ููุง ููุณุฑูุ",
        "ูุง ูู ุงูุดูุก ุงูุฐู ูููุง ุฒุงุฏ ููุตุช ุงูุฑุคูุฉุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูุง ุจุฏุงูุฉ ูู ููุง ููุงูุฉุ", "ูุง ูู ุงูุดูุก ุงูุฐู ูู ุฑุฃุณู ูุงุฑ ููู ุจุทูู ุนุงุฑุ"
    ],
    "ุงุญูุงู": [
        "ุญูู: ุตูุฑ ุงูุดุงุดุฉ ุงูุขู ูุฃุฑุณููุง ูููุฌููุนุฉ.", "ุญูู: ุบููุฑ ุงุณูู ูู 'ุฃูุง ุฐูู' ููุฏุฉ ุณุงุนุฉ.", "ุญูู: ุฃุฑุณู ููุทุฉ ูุขุฎุฑ ุดุฎุต ุชูุงุตูุช ูุนู.",
        "ุญูู: ุงูุชุจ ูู ุญุงูุชู 'ุฃูุง ุฃุญุจ ูุงุณุง'.", "ุญูู: ุบููู ุฃุบููุฉ ูุตูุฑุฉ ุจุตูุชู.", "ุญูู: ุงุนุชุฐุฑ ูุดุฎุต ุธููุชู ูุคุฎุฑุงู.",
        "ุญูู: ูุง ุชุชุญุฏุซ ูู ุงููุฌููุนุฉ ููุฏุฉ 10 ุฏูุงุฆู.", "ุญูู: ูู ููุชุฉ ูุถุญูุฉ ุงูุขู.", "ุญูู: ุงุฐูุฑ 3 ุตูุงุช ุชุญุจูุง ูู ุงูุดุฎุต ุงูุฐู ูุจูู.",
        "ุญูู: ุฃุฑุณู ุตูุฑุฉ ูุขุฎุฑ ุดูุก ุฃููุชู.", "ุญูู: ุตู ููุณู ุจูููุฉ ูุงุญุฏุฉ ููุท.", "ุญูู: ุงูุชุจ 'ุฃูุง ูุณูุงู' ูู ุงููุฌููุนุฉ 5 ูุฑุงุช.",
        "ุญูู: ุบููุฑ ุตูุฑุชู ุงูุดุฎุตูุฉ ูุตูุฑุฉ ูุฑุชูููุฉ ููุฏุฉ ููู.", "ุญูู: ุฃุฑุณู ููุตู ูุถุญู.", "ุญูู: ุงุณุฃู ูุฏูุฑ ุงููุฌููุนุฉ ุณุคุงูุงู ูุญุฑุฌุงู.",
        "ุญูู: ุงุฐูุฑ ุงุณู ุฃูุซุฑ ุดุฎุต ุชุญุจู ูู ุงููุฌููุนุฉ.", "ุญูู: ูู 10 ูุฑุงุช ุจุณุฑุนุฉ 'ุฎุดุจ ุงูุญุจุณ ุญุจุณ ุฎุดุจ'.", "ุญูู: ุงุทูุจ ูู ุดุฎุต ุฃู ูุญูู ุนููู.",
        "ุญูู: ูู ูู ูููุณ 'ุฃูุง ุฃุญุจ ุงูุจุฑูุฌุฉ'.", "ุญูู: ุงุฐูุฑ ุญููู ุงูุฐู ุชุฎุฌู ููู.", "ุญูู: ุฃุฑุณู ุตูุฑุฉ ูู ูุนุฑุถ ุตูุฑู (ุฑูู 5).",
        "ุญูู: ุงูุชุจ ูุตูุฏุฉ ูู ุณุทุฑูู ูููุฌููุนุฉ.", "ุญูู: ูุง ุชุณุชุฎุฏู ุฅูููุฌู ููุฏุฉ ุณุงุนุฉ.", "ุญูู: ูู ุงุณูู ุงูุญูููู.",
        "ุญูู: ุงุฐูุฑ ุนูุฑู ุงูุญูููู.", "ุญูู: ุฃุฑุณู ุฑุณุงูุฉ ุญุจ ุนุดูุงุฆูุฉ ูุฌูุฉ ุงุชุตุงูู.", "ุญูู: ูู 'ูุงุณุง ูู ุงูุฃูุถู' 3 ูุฑุงุช.",
        "ุญูู: ุงุฐูุฑ ููููุงู ูุญุฑุฌุงู ุญุฏุซ ูู.", "ุญูู: ุงุนุทู 50 ููููุฒ ูุฃูู ุดุฎุต ูุฑุณู ููุทุฉ."
    ]
}

# --- ๐๏ธ ุงูุฑุชุจ ---
def get_rank(chat_id, user_id):
    chat_id = str(chat_id)
    uid = str(user_id)
    if user_id == DEV_ID: return "ุงููุทูุฑ ุงูุฃุณุงุณู ๐ป"
    if uid in ranks["main_owners"].get(chat_id, []): return "ุงููุงูู ุงูุฃุณุงุณู ๐"
    if uid in ranks["owners"].get(chat_id, []): return "ุงููุงูู ๐"
    if uid in ranks["creators"].get(chat_id, []): return "ุงูููุดุฆ ๐๏ธ"
    if uid in ranks["managers"].get(chat_id, []): return "ุงููุฏูุฑ ๐"
    if uid in ranks["admins"].get(chat_id, []): return "ุงูุงุฏูู ๐ฎ"
    if uid in ranks["distinguished"].get(chat_id, []): return "ุงููููุฒ โจ"
    return "ุนุถู ๐ค"

# --- ๐ ุงูููุงุฆู ---
def main_menu():
    markup = types.InlineKeyboardMarkup(row_width=2)
    markup.add(
        types.InlineKeyboardButton("๐ก๏ธ ู1 (ุงูุฑูุน/ุชูุฒูู)", callback_data="cmd_m1"),
        types.InlineKeyboardButton("๐ฎ ู2 (ุงูุฅุฏุงุฑุฉ/ุญุธุฑ)", callback_data="cmd_m2"),
        types.InlineKeyboardButton("โ๏ธ ู3 (ุฅุนุฏุงุฏุงุช)", callback_data="cmd_m3"),
        types.InlineKeyboardButton("๐ ู4 (ุงูููู/ุงูุชุนุทูู)", callback_data="cmd_m4"),
        types.InlineKeyboardButton("๐จ ู5 (ุงูุฎุฏูุงุช)", callback_data="cmd_m5"),
        types.InlineKeyboardButton("๐ฒ ู6 (ุงูุชุณููุฉ)", callback_data="cmd_m6"),
        types.InlineKeyboardButton("๐ป ู ุงููุทูุฑ", callback_data="cmd_dev")
    )
    return markup

@bot.callback_query_handler(func=lambda call: True)
def callback_handler(call):
    chat_id = call.message.chat.id
    if call.data.startswith("cmd_"):
        res = {
            "cmd_m1": "๐ **ุงูุงูุฑ ุงูุฑูุน ูุงูุชูุฒูู:**\n- ุฑูุน/ุชูุฒูู (ูุงูู ุงุณุงุณูุ ูุงููุ ูุดุฑูุ ููุดุฆุ ูุฏูุฑุ ุงุฏููุ ูููุฒ)\n- ุชูุฒูู ุงููู",
            "cmd_m2": "๐ซ **ุงูุงูุฑ ุงูุญุธุฑ ูุงููุณุญ:**\n- ุญุธุฑุ ุทุฑุฏุ ูุชูุ ุชูููุฏ\n- ูุณุญ (ุงูููุ ุงููุงููููุ ุงูุงุฏูููุฉุ ุงูููุชููููุ ุงูุฑุฏูุฏุ ุงูุฑุงุจุท)",
            "cmd_m3": "โ๏ธ **ุงูุงูุฑ ุงูุงุนุฏุงุฏุงุช:**\n- ุงูุฑุงุจุทุ ุงููุฌููุนูุ ุงูููุงูููุ ูุนูููุงุชู\n- ุถุน (ุงูุชุฑุญูุจุ ุงูููุงูููุ ุฑุงุจุทุ ุงูุฏู)\n- ุงุถู ุงูุฑุ ุงุถู ููุงุฉ",
            "cmd_m4": "๐ **ุงูุงูุฑ ุงูููู ูุงูุชุนุทูู:**\n- ููู/ูุชุญ (ุงูููุ ุงูุตูุฑุ ุงูุฑูุงุจุทุ ุงูุฏุฑุฏุดุฉุ ุงูุชูุฑุงุฑุ ุงูุจูุชุงุชุ ุงูุตูุช)\n- ุชูุนูู/ุชุนุทูู (ุงูุชุฑุญูุจุ ุงูุชุณููุฉุ ุงูุฑุฏูุฏุ ุงูุงูุฏูุ ุงูููุชููุจ)",
            "cmd_m5": "๐๏ธ **ุงูุฎุฏูุงุช:**\n- ูุณุจู ุงูุญุจุ ุฒุฎุฑูุ ุงูุนูุฑุ ุชุฑุฌูุ ุงุฐูุงุฑุ ูุฑุงู\n- ุชุญููู (ุชููุ ุชููุชุฑุ ุณุงููุฏ)ุ ุชุญููู (ุตูุชุ ูุชุญุฑูุฉ)",
            "cmd_m6": "๐ฒ **ุงูุชุณููุฉ ูุงูุฒูุฌูุฉ:**\n- ุงูุนุงุจุ ุตุฑุงุญุฉุ ูู ุฎูุฑูู\n- ุฒูุงุฌุ ุทูุงูุ ุฒูุฌุชูุ ุชุชุฒูุฌูู\n- ุงูุชููู (ุชุตููุช)",
            "cmd_dev": "๐ป **ุงูุงูุฑ ุงููุทูุฑ:**\n- ุชุญุฏูุซุ ุงุฐุงุนุฉุ ุญุธุฑ ุนุงูุ ุงุนุงุฏุฉ ุชุดุบูู"
        }
        bot.edit_message_text(res[call.data], chat_id, call.message.message_id, parse_mode="Markdown", reply_markup=main_menu())
    elif call.data.startswith("ws_"):
        _, target_id, w_id = call.data.split("_")
        if str(call.from_user.id) == target_id:
            bot.answer_callback_query(call.id, text=f"๐ ุงูููุณุฉ ูู: {whispers.get(w_id, 'ุงูุชูุช')}", show_alert=True)
        else:
            bot.answer_callback_query(call.id, text="ุงูููุณุฉ ูู ูู! ๐", show_alert=True)

@bot.message_handler(func=lambda message: True)
def handle_msg(message):
    text = message.text
    chat_id = str(message.chat.id)
    uid = str(message.from_user.id)
    rank = get_rank(chat_id, uid)

    if not text: return

    # --- ๐ญ ุฑุฏูุฏ ูุงุณุง ุงูุฌุฏูุฏุฉ ---
    if text == "ูุงุณุง":
        bot.set_message_reaction(message.chat.id, message.message_id, [types.ReactionTypeEmoji("๐")])
        bot.reply_to(message, random.choice(["ุนููู ูุงุณุง", "ูุฏูุชู ููู ูุงุฏูุชูู", "ูุนูุฑููู ุญุจูุช", "ุญุจูุชุชุช", "ูุจููู", "ูุง ููุงุฏููู ุญุฏ ุจุนุฏู", "ุงุญุจู", "ุณูู ูุนููู"]))
        return

    if text == "ุจูุช":
        bot.reply_to(message, random.choice(["ูุด ุชุจุบู", "ูู ุจูุช", "ุนูู ุชุฑุงู ูุจูุฑ ุชููู ุงูู ุงุณูู ูุงุณุง", "ู ุง ุณ ุง ููู ุงูุตุนุจุ! ", "ูู ุจูุช", "ุชุฑุง ุงุฒุนู ูุงุชุนุทู!", "ูุงูุนูุุ!", "ูุง ุงุฌู ุงุฑุชุญุชุ"]))
        return

    if text == "ุงุญุจู":
        bot.set_message_reaction(message.chat.id, message.message_id, [types.ReactionTypeEmoji("โค๏ธ")])
        bot.reply_to(message, random.choice(["ุงุญุจู ุงููู ูู ุงูุฐู ุงุญุจุจุชูู ููู ๐ค", "ูุนูุฑู ุนุตุงููุฑ ุญุจ ููู", "ูููููู ุญุจูุชุชุชุช", "ุงููู ูุฏูููู ูุจุนุถ"]))
        return

    if text == "ูุงู":
        bot.reply_to(message, random.choice(["ูุงูุงุช", "ูุด ูุงู ููู ุงูุณูุงู ุนูููู", "ุงูุณูุงู ุนูููู ูููุ"]))
        return

    if text == "ุจุงู":
        bot.reply_to(message, random.choice(["ูุงุกุกุก ุธูู ูุนุงูุง", "ูุญุจู ุธู", "ุงููู ูุนููู", "ูุด ุจุงู ููู ูู ุงูุงู ุงููู"]))
        return

    if text == "ุงุญูู":
        bot.reply_to(message, random.choice(["ูุงููู", "ุจูุง ูุง ูุญูู ููุงุฎุฐ ุงุซู ุชุฑุงู ููุฐุจ"]))
        return

    if text == "ูุด ููู":
        bot.reply_to(message, "ูุงููู ุดู ุงุฑุชุงุญ")
        return

    # --- ๐คซ ุงูููุณุฉ ---
    if text.startswith("ููุณู ") or text.startswith("ููุณุฉ "):
        if message.reply_to_message:
            w_id = str(random.randint(1000, 9999))
            whispers[w_id] = text.split(None, 1)[1]
            markup = types.InlineKeyboardMarkup()
            markup.add(types.InlineKeyboardButton("๐ฉ ุฑุคูุฉ ุงูููุณุฉ", callback_data=f"ws_{message.reply_to_message.from_user.id}_{w_id}"))
            bot.send_message(message.chat.id, f"๐ค ููุณุฉ ูู {message.reply_to_message.from_user.first_name}", reply_markup=markup)
            bot.delete_message(message.chat.id, message.message_id)
        return

    # --- ๐ฒ ุงูุฃูุนุงุจ ูุงูุฐูุงุก ุงูุงุตุทูุงุนู ---
    if text == "ุงูุงูุงูุฑ":
        bot.reply_to(message, "ูุงุฆูุฉ ุงูุฃูุงูุฑ ๐", reply_markup=main_menu())
    elif text in games_questions:
        q = random.choice(games_questions[text])
        bot.reply_to(message, f"๐ฎ {text}:\n\n{q[0] if isinstance(q, tuple) else q}")
    elif text.startswith("ูุงุณู "):
        try:
            res = g4f.ChatCompletion.create(model="gpt-3.5-turbo", messages=[{"role": "user", "content": text.replace("ูุงุณู ","")}])
            bot.reply_to(message, f"๐ ูุงุณู:\n{res}")
        except: bot.reply_to(message, "ุงูุณูุฑูุฑ ูุนูู ๐")
    elif text.startswith("ุจุญุซ "):
        bot.reply_to(message, f"๐ ูุชุงุฆุฌ:\n๐ https://www.youtube.com/results?search_query={text.replace('ุจุญุซ ','').replace(' ','+')}")

bot.infinity_polling()
  
